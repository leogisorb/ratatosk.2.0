import{c as q}from"./_commonjsHelpers-CZnAS8i4.js";function K(d,m){for(var w=0;w<m.length;w++){const f=m[w];if(typeof f!="string"&&!Array.isArray(f)){for(const a in f)if(a!=="default"&&!(a in d)){const j=Object.getOwnPropertyDescriptor(f,a);j&&Object.defineProperty(d,a,j.get?j:{enumerable:!0,get:()=>f[a]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}var F={},T;function L(){return T||(T=1,(function(){function d(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var m=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t};function w(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof q=="object"&&q];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}var f=w(this);function a(t,e){if(e)t:{var i=f;t=t.split(".");for(var o=0;o<t.length-1;o++){var c=t[o];if(!(c in i))break t;i=i[c]}t=t[t.length-1],o=i[t],e=e(o),e!=o&&e!=null&&m(i,t,{configurable:!0,writable:!0,value:e})}}a("Symbol",function(t){function e(l){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new i(o+(l||"")+"_"+c++,l)}function i(l,n){this.g=l,m(this,"description",{configurable:!0,writable:!0,value:n})}if(t)return t;i.prototype.toString=function(){return this.g};var o="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",c=0;return e}),a("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<e.length;i++){var o=f[e[i]];typeof o=="function"&&typeof o.prototype[t]!="function"&&m(o.prototype,t,{configurable:!0,writable:!0,value:function(){return j(d(this))}})}return t});function j(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function A(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:d(t)}}function S(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function E(t){if(t.i)throw new TypeError("Generator is already running");t.i=!0}S.prototype.l=function(t){this.o=t};function _(t,e){t.h={F:e,G:!0},t.j=t.m}S.prototype.return=function(t){this.h={return:t},this.j=this.m};function U(t){this.g=new S,this.h=t}function B(t,e){E(t.g);var i=t.g.g;return i?C(t,"return"in i?i.return:function(o){return{value:o,done:!0}},e,t.g.return):(t.g.return(e),b(t))}function C(t,e,i,o){try{var c=e.call(t.g.g,i);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return t.g.i=!1,c;var l=c.value}catch(n){return t.g.g=null,_(t.g,n),b(t)}return t.g.g=null,o.call(t.g,l),b(t)}function b(t){for(;t.g.j;)try{var e=t.h(t.g);if(e)return t.g.i=!1,{value:e.value,done:!1}}catch(i){t.g.o=void 0,_(t.g,i)}if(t.g.i=!1,t.g.h){if(e=t.g.h,t.g.h=null,e.G)throw e.F;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function I(t){this.next=function(e){return E(t.g),t.g.g?e=C(t,t.g.g.next,e,t.g.l):(t.g.l(e),e=b(t)),e},this.throw=function(e){return E(t.g),t.g.g?e=C(t,t.g.g.throw,e,t.g.l):(_(t.g,e),e=b(t)),e},this.return=function(e){return B(t,e)},this[Symbol.iterator]=function(){return this}}function G(t){function e(o){return t.next(o)}function i(o){return t.throw(o)}return new Promise(function(o,c){function l(n){n.done?o(n.value):Promise.resolve(n.value).then(e,i).then(l,c)}l(t.next())})}a("Promise",function(t){function e(n){this.h=0,this.i=void 0,this.g=[],this.o=!1;var r=this.j();try{n(r.resolve,r.reject)}catch(u){r.reject(u)}}function i(){this.g=null}function o(n){return n instanceof e?n:new e(function(r){r(n)})}if(t)return t;i.prototype.h=function(n){if(this.g==null){this.g=[];var r=this;this.i(function(){r.l()})}this.g.push(n)};var c=f.setTimeout;i.prototype.i=function(n){c(n,0)},i.prototype.l=function(){for(;this.g&&this.g.length;){var n=this.g;this.g=[];for(var r=0;r<n.length;++r){var u=n[r];n[r]=null;try{u()}catch(s){this.j(s)}}}this.g=null},i.prototype.j=function(n){this.i(function(){throw n})},e.prototype.j=function(){function n(s){return function(h){u||(u=!0,s.call(r,h))}}var r=this,u=!1;return{resolve:n(this.A),reject:n(this.l)}},e.prototype.A=function(n){if(n===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof e)this.C(n);else{t:switch(typeof n){case"object":var r=n!=null;break t;case"function":r=!0;break t;default:r=!1}r?this.v(n):this.m(n)}},e.prototype.v=function(n){var r=void 0;try{r=n.then}catch(u){this.l(u);return}typeof r=="function"?this.D(r,n):this.m(n)},e.prototype.l=function(n){this.u(2,n)},e.prototype.m=function(n){this.u(1,n)},e.prototype.u=function(n,r){if(this.h!=0)throw Error("Cannot settle("+n+", "+r+"): Promise already settled in state"+this.h);this.h=n,this.i=r,this.h===2&&this.B(),this.H()},e.prototype.B=function(){var n=this;c(function(){if(n.I()){var r=f.console;typeof r<"u"&&r.error(n.i)}},1)},e.prototype.I=function(){if(this.o)return!1;var n=f.CustomEvent,r=f.Event,u=f.dispatchEvent;return typeof u>"u"?!0:(typeof n=="function"?n=new n("unhandledrejection",{cancelable:!0}):typeof r=="function"?n=new r("unhandledrejection",{cancelable:!0}):(n=f.document.createEvent("CustomEvent"),n.initCustomEvent("unhandledrejection",!1,!0,n)),n.promise=this,n.reason=this.i,u(n))},e.prototype.H=function(){if(this.g!=null){for(var n=0;n<this.g.length;++n)l.h(this.g[n]);this.g=null}};var l=new i;return e.prototype.C=function(n){var r=this.j();n.s(r.resolve,r.reject)},e.prototype.D=function(n,r){var u=this.j();try{n.call(r,u.resolve,u.reject)}catch(s){u.reject(s)}},e.prototype.then=function(n,r){function u(v,y){return typeof v=="function"?function(k){try{s(v(k))}catch(D){h(D)}}:y}var s,h,M=new e(function(v,y){s=v,h=y});return this.s(u(n,s),u(r,h)),M},e.prototype.catch=function(n){return this.then(void 0,n)},e.prototype.s=function(n,r){function u(){switch(s.h){case 1:n(s.i);break;case 2:r(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;this.g==null?l.h(u):this.g.push(u),this.o=!0},e.resolve=o,e.reject=function(n){return new e(function(r,u){u(n)})},e.race=function(n){return new e(function(r,u){for(var s=A(n),h=s.next();!h.done;h=s.next())o(h.value).s(r,u)})},e.all=function(n){var r=A(n),u=r.next();return u.done?o([]):new e(function(s,h){function M(k){return function(D){v[k]=D,y--,y==0&&s(v)}}var v=[],y=0;do v.push(void 0),y++,o(u.value).s(M(v.length-1),h),u=r.next();while(!u.done)})},e});var H=typeof Object.assign=="function"?Object.assign:function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];if(o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])}return t};a("Object.assign",function(t){return t||H});var N=this||self,z={facingMode:"user",width:640,height:480};function O(t,e){this.video=t,this.i=0,this.h=Object.assign(Object.assign({},z),e)}O.prototype.stop=function(){var t=this,e,i,o,c;return G(new I(new U(function(l){if(t.g){for(e=t.g.getTracks(),i=A(e),o=i.next();!o.done;o=i.next())c=o.value,c.stop();t.g=void 0}l.j=0})))},O.prototype.start=function(){var t=this,e;return G(new I(new U(function(i){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),e=t.h,i.return(navigator.mediaDevices.getUserMedia({video:{facingMode:e.facingMode,width:e.width,height:e.height}}).then(function(o){R(t,o)}).catch(function(o){var c="Failed to acquire camera feed: "+o;throw console.error(c),alert(c),o}))})))};function P(t){window.requestAnimationFrame(function(){J(t)})}function R(t,e){t.g=e,t.video.srcObject=e,t.video.onloadedmetadata=function(){t.video.play(),P(t)}}function J(t){var e=null;t.video.paused||t.video.currentTime===t.i||(t.i=t.video.currentTime,e=t.h.onFrame()),e?e.then(function(){P(t)}):P(t)}var x=["Camera"],g=N;x[0]in g||typeof g.execScript>"u"||g.execScript("var "+x[0]);for(var p;x.length&&(p=x.shift());)x.length||O===void 0?g[p]&&g[p]!==Object.prototype[p]?g=g[p]:g=g[p]={}:g[p]=O}).call(F)),F}var Q=L();const V=K({__proto__:null},[Q]);export{V as c};
